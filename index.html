<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js'></script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css'/>
    
    <title> Colorblindness Simulator </title>
</head>
<body>
    <div class="container" style="">
      <div>
        <input type="file" id="fileInput"/>

        <label>
          <input type="radio" name="colorblindType" value="Normal" checked/>
          Normal
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Protanopia"/>
          Protanopia
        </label>
        <label>
          <input type="radio" name="colorblindType" value="Protanomaly"/>
          Protanomaly
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Deuteranopia"/>
          Deuteranopia
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Deuteranomaly"/>
          Deuteranomaly
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Tritanopia"/>
          Tritanopia
        </label>

        <label>
         <input type="radio" name="colorblindType" value="Tritanomaly"/>
         Tritanomaly
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Achromatopsia"/>
          Achromatopsia
        </label>

        <label>
          <input type="radio" name="colorblindType" value="Achromatomaly"/>
          Achromatomaly
        </label>

        <!-- <label>
          <input type="checkbox" name="hcirn" value="true" id="usehcirn">
          Use non-commercial-only algorithm
        </label>
        <br/> -->

        <!-- <label>
          <input type="radio" name="lens" value="No" checked/>
          No Lens
        </label>

        <label>
          <input type="radio" name="lens" value="Normal"/>
          Normal Lens
        </label>

        <label>
          <input type="radio" name="lens" value="Inverse"/>
          Inverse Lens
        </label> -->

        <!-- &nbsp; <a href="#" onclick="panZoomImage.translateX=0;panZoomImage.translateY=0;panZoomImage.scale=1;panZoomImage.redraw();">Reset View</a>
        &nbsp; <a href="#" target="blank" id="imageLink" style="display: none">Open simulated image in new window</a> -->

        <span id="loadingIndicator" style="display:none">&nbsp;Computing...</span>
      </div>
      <div>
      <hr/>
      </div>
      <div style="height: 100%" id="canvasDiv">
        <div id="dropNotification" class="boxed" style="display: none"><h1>Drop your image to load it</h1></div>
        <canvas id="outCanvas">Your Browser does not support &lt;canvas&gt;. Get an upgrade!</canvas>
      </div>
    </div>

    <div id="aboutBox" class="boxed">
      <a href="https://github.com/MaPePeR/jsColorblindSimulator">
        <img style="position: absolute; top: 0; right: 0; border: 0;">
      </a>
      <!-- <h1>jsColorblindSimulator</h1>
      <h2>Usage</h2>
      <p>Use the file selector in the top left, <strong>drag and drop</strong> or <strong>paste</strong> an image here to load it. You will then be able to choose between different simulations for different kinds of color-blindness.</p>
      <p>All processing is done locally in your web browser. The image will not leave your computer.</p>
      <p>The displayed image can be moved by clicking and dragging and zoomed by (shift-)double clicking or using the mouse wheel.</p>
      <p>The lens-feature allows you to see what the original image looked like in the region around your cursor. The inverse lens shows you the original image and the simulated image around your cursor.</p> -->

      <!-- <h2>Uses algorithms from </h2>
      <ul>
        <li>
          <a href="http://web.archive.org/web/20081014161121/http://www.colorjack.com/labs/colormatrix/" target="blank">http://www.colorjack.com/labs/colormatrix/</a> 
            (web.archive link, because original source is gone)
        </li>

        <li>
          <a href="http://web.archive.org/web/20090318054431/http://www.nofunc.com/Color_Blindness_Library" target="blank">http://www.nofunc.com/Color_Blindness_Library</a> 
          (web.archive link, because original source is gone)
        </li>
      </ul>

      <h3>No guarantees that these are actually good!</h3>
      <a href="http://kaioa.com/node/75#comment-247" target="blank">Comment</a> about the first algorithm:

      <blockquote>
        <p>You're right, the ColorMatrix version is very simplified, and not accurate. I created that color matrix one night (<a href="http://www.colorjack.com/labs/colormatrix/" target="blank">http://www.colorjack.com/labs/colormatrix/</a>) and since then it's shown up many places... I should probably take that page down before it spreads more! Anyways, it gives you an idea of what it might look like, but for the real thing...</p>
        <p>As far as a simple script to simulate color blindness, this one does the best job:</p>
        <p>
          <a href="http://www.nofunc.com/Color_Blindness_Library/" target="blank">http://www.nofunc.com/Color_Blindness_Library/</a> 
          - It uses "confusion lines" within the XYZ color space to calculate values (this one is in Javascript, and should be easy to convert to python).
        </p>
        <p>There are a few other methods, and no one really knows exactly what it would look like... these are all generalizations of a small sample, set against the masses.</p>
      </blockquote>

      Copyright Notice for the second non-commercial algorithm:
      <blockquote>
        <pre>
          The Color Blind Simulation function is
          copyright (c) 2000-2001 by Matthew Wickline and the
          Human-Computer Interaction Resource Network ( http://hcirn.com/ ).

          It is used with the permission of Matthew Wickline and HCIRN,
          and is freely available for non-commercial use. For commercial use, please
          contact the Human-Computer Interaction Resource Network ( http://hcirn.com/ ).
        </pre>
      </blockquote> -->
    </div>

    <script src="panZoomImage.js"></script>
    <!-- <script src="hcirn_colorblind_simulation.js"></script> -->
    <script src="colorblind.js"></script>
    <script src="loading.js"></script>
</body>
</html>